{"ast":null,"code":"var _jsxFileName = \"/Users/leonor/Dev/recipes/pantry-app/src/pages/RecommendationsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport Chip from \"../components/Chip\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport { normalizeName } from \"../utils/csv\";\n\n// New cookbook-style categories\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES_UI = [\"Breakfast\", \"Lunch\", \"Dinner\", \"Snacks / Light bites\", \"Appetizers / Starters\", \"Side dishes\", \"Main courses\", \"Desserts\", \"Breads & baked goods\", \"Drinks & cocktails\"];\nexport default function RecommendationsPage({\n  recipes,\n  selected,\n  category,\n  setCategory,\n  onOpen,\n  saved,\n  onToggleSaved\n}) {\n  _s();\n  const filtered = useMemo(() => {\n    const pool = category ? recipes.filter(r => r.category === category) : [];\n    const scored = pool.map(r => {\n      const ing = r.ingredients.map(normalizeName);\n      const matched = ing.filter(i => selected.has(i)).length;\n      const missing = ing.length - matched;\n      return {\n        r,\n        matched,\n        missing\n      };\n    });\n    scored.sort((a, b) => {\n      if (b.matched !== a.matched) return b.matched - a.matched;\n      if (a.missing !== b.missing) return a.missing - b.missing;\n      return a.r.time - b.r.time;\n    });\n    return scored.slice(0, 5);\n  }, [recipes, selected, category]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page__title\",\n      children: \"Top 5 Picks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"page__hint\",\n      children: \"Select a category to continue.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chips\",\n      children: [CATEGORIES_UI.map(label => /*#__PURE__*/_jsxDEV(Chip, {\n        active: category === label,\n        onClick: () => setCategory(label),\n        children: label\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)), category && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"link-clear\",\n        onClick: () => setCategory(\"\"),\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), !category ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty\",\n      children: \"Choose a category above to see recommendations.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty\",\n      children: \"No matches yet. Try selecting more ingredients.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: filtered.map(x => /*#__PURE__*/_jsxDEV(RecipeCard, {\n        recipe: x.r,\n        matched: x.matched,\n        missing: x.missing,\n        onOpen: () => onOpen(x.r),\n        saved: saved.has(x.r.title),\n        onToggleSave: () => onToggleSaved(x.r.title)\n      }, x.r.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(RecommendationsPage, \"2uHcb/zWRevK0LrN0wam2fLVfYQ=\");\n_c = RecommendationsPage;\nvar _c;\n$RefreshReg$(_c, \"RecommendationsPage\");","map":{"version":3,"names":["React","useMemo","Chip","RecipeCard","normalizeName","jsxDEV","_jsxDEV","CATEGORIES_UI","RecommendationsPage","recipes","selected","category","setCategory","onOpen","saved","onToggleSaved","_s","filtered","pool","filter","r","scored","map","ing","ingredients","matched","i","has","length","missing","sort","a","b","time","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","label","active","onClick","x","recipe","title","onToggleSave","_c","$RefreshReg$"],"sources":["/Users/leonor/Dev/recipes/pantry-app/src/pages/RecommendationsPage.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport Chip from \"../components/Chip\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport { normalizeName } from \"../utils/csv\";\n\n// New cookbook-style categories\nconst CATEGORIES_UI = [\n  \"Breakfast\",\n  \"Lunch\",\n  \"Dinner\",\n  \"Snacks / Light bites\",\n  \"Appetizers / Starters\",\n  \"Side dishes\",\n  \"Main courses\",\n  \"Desserts\",\n  \"Breads & baked goods\",\n  \"Drinks & cocktails\",\n];\n\nexport default function RecommendationsPage({\n  recipes,\n  selected,\n  category,\n  setCategory,\n  onOpen,\n  saved,\n  onToggleSaved,\n}) {\n  const filtered = useMemo(() => {\n    const pool = category ? recipes.filter((r) => r.category === category) : [];\n    const scored = pool.map((r) => {\n      const ing = r.ingredients.map(normalizeName);\n      const matched = ing.filter((i) => selected.has(i)).length;\n      const missing = ing.length - matched;\n      return { r, matched, missing };\n    });\n    scored.sort((a, b) => {\n      if (b.matched !== a.matched) return b.matched - a.matched;\n      if (a.missing !== b.missing) return a.missing - b.missing;\n      return a.r.time - b.r.time;\n    });\n    return scored.slice(0, 5);\n  }, [recipes, selected, category]);\n\n  return (\n    <div className=\"page\">\n      <h2 className=\"page__title\">Top 5 Picks</h2>\n      <p className=\"page__hint\">Select a category to continue.</p>\n\n      <div className=\"chips\">\n        {CATEGORIES_UI.map((label) => (\n          <Chip\n            key={label}\n            active={category === label}\n            onClick={() => setCategory(label)}\n          >\n            {label}\n          </Chip>\n        ))}\n        {category && (\n          <button className=\"link-clear\" onClick={() => setCategory(\"\")}>\n            Clear\n          </button>\n        )}\n      </div>\n\n      {!category ? (\n        <p className=\"empty\">Choose a category above to see recommendations.</p>\n      ) : filtered.length === 0 ? (\n        <p className=\"empty\">No matches yet. Try selecting more ingredients.</p>\n      ) : (\n        <div>\n          {filtered.map((x) => (\n            <RecipeCard\n              key={x.r.title}\n              recipe={x.r}\n              matched={x.matched}\n              missing={x.missing}\n              onOpen={() => onOpen(x.r)}\n              saved={saved.has(x.r.title)}\n              onToggleSave={() => onToggleSaved(x.r.title)}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}