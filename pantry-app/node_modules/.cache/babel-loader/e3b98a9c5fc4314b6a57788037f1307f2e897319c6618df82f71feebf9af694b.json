{"ast":null,"code":"var _jsxFileName = \"/Users/leonor/Dev/recipes/pantry-app/src/pages/RecommendationsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport Chip from \"../components/Chip\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport { normalizeName } from \"../utils/csv\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES_UI = [{\n  key: \"dessert\",\n  label: \"Dessert\"\n}, {\n  key: \"savory\",\n  label: \"Savory Meal\"\n}, {\n  key: \"budget\",\n  label: \"Meal on a Budget\"\n}, {\n  key: \"vegan\",\n  label: \"Vegan\"\n}];\nexport default function RecommendationsPage({\n  recipes,\n  selected,\n  category,\n  setCategory,\n  onOpen,\n  saved,\n  onToggleSaved\n}) {\n  _s();\n  const filtered = useMemo(() => {\n    const pool = category ? recipes.filter(r => r.category === category) : [];\n    const scored = pool.map(r => {\n      const ing = r.ingredients.map(normalizeName);\n      const matched = ing.filter(i => selected.has(i)).length;\n      const missing = ing.length - matched;\n      return {\n        r,\n        matched,\n        missing\n      };\n    });\n    scored.sort((a, b) => {\n      if (b.matched !== a.matched) return b.matched - a.matched;\n      if (a.missing !== b.missing) return a.missing - b.missing;\n      return a.r.time - b.r.time;\n    });\n    return scored.slice(0, 5);\n  }, [recipes, selected, category]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page__title\",\n      children: \"Top 5 Picks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"page__hint\",\n      children: \"Select a category to continue.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chips\",\n      children: [CATEGORIES_UI.map(c => /*#__PURE__*/_jsxDEV(Chip, {\n        active: category === c.key,\n        onClick: () => setCategory(c.key),\n        children: c.label\n      }, c.key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)), category && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"link-clear\",\n        onClick: () => setCategory(\"\"),\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), !category ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty\",\n      children: \"Choose a category above to see recommendations.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : filtered.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"empty\",\n      children: \"No matches yet. Try selecting more ingredients.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: filtered.map(x => /*#__PURE__*/_jsxDEV(RecipeCard, {\n        recipe: x.r,\n        matched: x.matched,\n        missing: x.missing,\n        onOpen: () => onOpen(x.r),\n        saved: saved.has(x.r.title),\n        onToggleSave: () => onToggleSaved(x.r.title)\n      }, x.r.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(RecommendationsPage, \"2uHcb/zWRevK0LrN0wam2fLVfYQ=\");\n_c = RecommendationsPage;\nvar _c;\n$RefreshReg$(_c, \"RecommendationsPage\");","map":{"version":3,"names":["React","useMemo","Chip","RecipeCard","normalizeName","jsxDEV","_jsxDEV","CATEGORIES_UI","key","label","RecommendationsPage","recipes","selected","category","setCategory","onOpen","saved","onToggleSaved","_s","filtered","pool","filter","r","scored","map","ing","ingredients","matched","i","has","length","missing","sort","a","b","time","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","c","active","onClick","x","recipe","title","onToggleSave","_c","$RefreshReg$"],"sources":["/Users/leonor/Dev/recipes/pantry-app/src/pages/RecommendationsPage.jsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport Chip from \"../components/Chip\";\nimport RecipeCard from \"../components/RecipeCard\";\nimport { normalizeName } from \"../utils/csv\";\n\nconst CATEGORIES_UI = [\n  { key: \"dessert\", label: \"Dessert\" },\n  { key: \"savory\", label: \"Savory Meal\" },\n  { key: \"budget\", label: \"Meal on a Budget\" },\n  { key: \"vegan\", label: \"Vegan\" },\n];\n\nexport default function RecommendationsPage({\n  recipes,\n  selected,\n  category,\n  setCategory,\n  onOpen,\n  saved,\n  onToggleSaved,\n}) {\n  const filtered = useMemo(() => {\n    const pool = category ? recipes.filter((r) => r.category === category) : [];\n    const scored = pool.map((r) => {\n      const ing = r.ingredients.map(normalizeName);\n      const matched = ing.filter((i) => selected.has(i)).length;\n      const missing = ing.length - matched;\n      return { r, matched, missing };\n    });\n    scored.sort((a, b) => {\n      if (b.matched !== a.matched) return b.matched - a.matched;\n      if (a.missing !== b.missing) return a.missing - b.missing;\n      return a.r.time - b.r.time;\n    });\n    return scored.slice(0, 5);\n  }, [recipes, selected, category]);\n\n  return (\n    <div className=\"page\">\n      <h2 className=\"page__title\">Top 5 Picks</h2>\n      <p className=\"page__hint\">Select a category to continue.</p>\n      <div className=\"chips\">\n        {CATEGORIES_UI.map((c) => (\n          <Chip key={c.key} active={category === c.key} onClick={() => setCategory(c.key)}>\n            {c.label}\n          </Chip>\n        ))}\n        {category && (\n          <button className=\"link-clear\" onClick={() => setCategory(\"\")}>\n            Clear\n          </button>\n        )}\n      </div>\n\n      {!category ? (\n        <p className=\"empty\">Choose a category above to see recommendations.</p>\n      ) : filtered.length === 0 ? (\n        <p className=\"empty\">No matches yet. Try selecting more ingredients.</p>\n      ) : (\n        <div>\n          {filtered.map((x) => (\n            <RecipeCard\n              key={x.r.title}\n              recipe={x.r}\n              matched={x.matched}\n              missing={x.missing}\n              onOpen={() => onOpen(x.r)}\n              saved={saved.has(x.r.title)}\n              onToggleSave={() => onToggleSaved(x.r.title)}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}